<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}
    <meta charset="utf-8">
    <title>Home Star</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="{% static 'img/favicon.ico' %}" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&family=Poppins:wght@600;700&display=swap" rel="stylesheet"> 

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="{% static 'lib/animate/animate.min.css' %}" rel="stylesheet">
    <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet">

    <style>
        .sidebar {
            background-color: #f8f9fa; /* Adjusted for better visibility */
            color: white;
            height: 100vh;
            width: 200px;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            padding-top: 120px; /* Adjust based on your navbar height */
        }
        .sidebar .nav-link {
            color: rgb(78, 5, 61);
            font-size: 18px; /* Increase font size for better visibility */
        }
        .sidebar .nav-link i {
            font-size: 24px; /* Increase icon size */
            margin-right: 10px; /* Add some space between icon and text */
        }
        .sidebar .nav-link:hover {
            color: hsl(273, 84%, 60%);
        }
        
        .announcement-bar {
            background-color: rgba(248, 249, 250, 0.2);
            padding: 10px 0;
            
        }
        .announcement {
            margin-right: 50px;
            font-weight: bold;
            color:rgb(233, 239, 234);
            font-size: 1.1em;
            font-family: 'Times New Roman', Times, serif;
            font-style: italic;
        }
    
            .chatbot-icon {
                position: fixed; /* Fixed position */
                bottom: 20px; /* Distance from the bottom */
                right: 20px; /* Distance from the right */
                background-color: #37100d; /* Background color */
                color: white; /* Icon color */
                border-radius: 50%; /* Circular shape */
                padding: 15px; /* Padding for the icon */
                cursor: pointer; /* Pointer cursor on hover */
                box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3); /* Shadow for depth */
                transition: background-color 0.3s; /* Smooth background change */
                z-index: 1000; /* Ensure it appears above other elements */
            }
        
            .chatbot-icon:hover {
                background-color: #a34942; /* Change background on hover */
            }
        
            .chatbot-icon i {
                font-size: 24px; /* Icon size */
            }
       
	
	.chatbox-modal {
		display: none;
		position: fixed;
		bottom: 70px;
		right: 20px;
		width: 350px;
		background-color: white;
		border-radius: 8px;
		box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
		z-index: 1000;
	}
	
	.chatbox-header {
		background-color: #036893;
		color: white;
		padding: 10px;
		border-top-left-radius: 8px;
		border-top-right-radius: 8px;
		display: flex;
		justify-content: space-between;
		align-items: center;
	}
	
	.chatbox-body {
		max-height: 400px;
		overflow-y: auto;
		padding: 10px;
		display: flex;
		flex-direction: column;
	}
	
	.user-message {
		background-color: #28c9ff;
		color: white;
		padding: 10px;
		border-radius: 10px;
		margin: 5px 0;
		align-self: flex-end;
		max-width: 80%;
	}
	
	.chatbot-message {
		background-color: #f1f1f1;
		color: black;
		padding: 10px;
		border-radius: 10px;
		margin: 5px 0;
		align-self: flex-start;
		max-width: 80%;
	}
	
	.chatbox-footer {
		display: flex;
		padding: 10px;
		border-top: 1px solid #ddd;
	}
	
	.input-group {
		display: flex;
		flex: 1;
	}
	
	.input-group input {
		flex: 1;
		padding: 10px;
		border: 1px solid #ddd;
		border-radius: 4px;
	}
	
	.input-icons {
		display: flex;
		align-items: center;
		margin-left: 5px;
	}
	
	.input-icons button {
		margin-left: 5px;
		background-color: #37100d;
		color: white;
		border: none;
		padding: 10px;
		border-radius: 4px;
		cursor: pointer;
	}
	
	.input-icons button:hover {
		background-color: #a34942;
	}
	
	.loading-indicator {
		font-style: italic;
		color: gray;
	}
	
	/* Responsive Design */
	@media (max-width: 768px) {
		.chatbox-modal {
			width: 90%;
			right: 5%;
		}
	}

    .whatsapp-icon {
        background-color: #25D366; /* WhatsApp green */
        border-radius: 30px; /* Rounded corners */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3); /* Shadow for depth */
        transition: background-color 0.3s; /* Smooth background change */
        width: 50px; /* Width of the icon */
        height: 50px; /* Height of the icon */
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .whatsapp-button {
        color: white; /* Icon color */
        font-size: 40px; /* Icon size */
        text-decoration: none; /* Remove underline */
    }

    .whatsapp-icon:hover {
        background-color: #128C7E; /* Darker green on hover */
    }
    .instagram-icon {
        background: radial-gradient(circle at 30% 30%, #fdf497, #fdf497, #fd5949, #d6249f, #285AEB); /* Instagram gradient */
        border-radius: 50%; /* Circular icon */
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); /* Shadow for depth */
        transition: transform 0.3s ease; /* Smooth hover scaling */
        width: 50px; /* Width of the icon */
        height: 50px; /* Height of the icon */
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .instagram-button {
        color: white; /* Icon color */
        font-size: 40px; /* Icon size */
        text-decoration: none; /* Remove underline */
    }
    
    .instagram-icon:hover {
        transform: scale(1.1); /* Slightly enlarge on hover */
    }
    
    .btn-primary {
        background: linear-gradient(45deg, #3498db, #2ecc71);
        border: none;
        padding: 15px 30px;
        border-radius: 50px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        transition: all 0.3s ease;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        background: linear-gradient(45deg, #2ecc71, #3498db);
    }

    .nav-link i {
        margin-right: 8px;
        font-size: 1.1em;
    }

    .nav-link:hover i {
        transform: scale(1.1);
    }

    .tracking-modal {
        display: none;
        position: absolute; /* Changed from fixed to absolute */
        left: 100%; /* Position to the right of sidebar */
        top: 0; /* Align with the Track Booking link */
        width: 400px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0,0,0,0.2);
        z-index: 1001;
        padding: 20px;
        margin-left: 20px; /* Add some space between sidebar and modal */
    }

    /* Add a container for proper positioning */
    .tracking-container {
        position: relative; /* For proper absolute positioning of modal */
    }

    .service-details {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
        border-left: 4px solid #2ecc71;
    }

    .service-details h5 {
        color: #2c3e50;
        margin-bottom: 10px;
    }

    .service-info {
        display: grid;
        grid-template-columns: auto 1fr;
        gap: 10px;
        font-size: 14px;
    }

    .service-info-label {
        font-weight: bold;
        color: #666;
    }

    .service-info-value {
        color: #333;
    }

    .booking-date {
        color: #666;
        font-size: 12px;
        text-align: right;
        margin-top: 10px;
    }

    .tracking-button {
        position: fixed;
        right: 20px;
        bottom: 230px;
        z-index: 1000;
        background: #2ecc71;
        color: white;
        border-radius: 30px;
        padding: 10px 20px;
        cursor: pointer;
        box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .tracking-steps {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 20px 0;
        position: relative;
    }

    .step {
        display: flex;
        flex-direction: column;
        align-items: center;
        z-index: 2;
    }

    .step-icon {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: #e0e0e0;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 8px;
    }

    .step.active .step-icon {
        background: #2ecc71;
        color: white;
    }

    .step-label {
        font-size: 12px;
        color: #666;
        text-align: center;
    }

    .step.active .step-label {
        color: #2ecc71;
        font-weight: bold;
    }

    .tracking-line {
        position: absolute;
        top: 15px;
        left: 40px;
        right: 40px;
        height: 2px;
        background: #e0e0e0;
        z-index: 1;
    }

    .tracking-line-progress {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        background: #2ecc71;
        transition: width 0.3s ease;
    }
    </style>
</head>

<body onload="noBack();" onpageshow="if (event.persisted) noBack();">
    <!-- Spinner Start -->
    <div id="spinner" class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" role="status"></div>
    </div>
    <!-- Spinner End -->

    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-red navbar-light sticky-top px-4 px-lg-5 py-lg-0">
        <a href="index.html" class="navbar-brand d-flex align-items-center">
            <h1 class="m-0">
        <img src="{% static 'img\hstar.png' %}" class="me-3" style="height: 100px; width:160px;">            </img>
            
        </h1>
            
            
        </a>
        <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto py-3 py-lg-0">
                
        
                <a href="{% url 'home' %}" class="nav-item nav-link active">Home</a>
                <a href="{% url 'service' %}" class="nav-item nav-link">Our Services</a>
                <a href="{% url 'booking'%}" class="nav-item nav-link" id="booking">Book Service  </a>
                <a href="{% url 'feedback_form' %}" class="nav-item nav-link">Feedback</a>

                <div class="profile-container">
                    <!-- Display the profile icon -->
                    <img src="{% static 'img/icon.png' %}" alt="Profile Icon" class="profile-icon" style="width:40px; height:40px; border-radius:50%;">
                
                    <!-- Display the username next to the icon -->
                    <div class="nav-item dropdown">
                    <span class="username">{{ username }}</span>
                        <div class="dropdown-menu bg-light m-0">
                        <a href="{% url 'logout_view' %}" class="nav-item nav-link">Logout</a>
                        
                        
                    

                        </div>
                    </div>
            </div>
            
        </div>
    </nav>
    <!-- Navbar End -->
    <div class="container-fluid">
        <div class="row">
          <!-- Sidebar Start -->
           
            <div class="col-md-3 bg-light sidebar">
                <div class="sidebar-sticky">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'view_profile' %}">
                                <i class="fas fa-user"></i> View Profile
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'update' %}">
                                <i class="fas fa-edit"></i> Update
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'my_bookings' %}">
                                <i class="fas fa-book"></i> My Bookings
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'user_payment_history' %}">
                                <i class="fas fa-credit-card"></i> Payments
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'smart_view' %}">
                                <i class="fas fa-robot"></i> Smart Detection 
                            </a>
                        </li>                        
                        <li class="nav-item tracking-container">
                            <a class="nav-link" href="#" id="trackingButton">
                                <i class="fas fa-chart-line"></i> Track Booking
                            </a>
                            
                            <!-- Tracking Modal -->
                            <div class="tracking-modal" id="trackingModal">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                    <h4 style="margin: 0;">Booking Status</h4>
                                    <button style="border: none; background: none; cursor: pointer;" id="closeTracking">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>

                                <!-- Service Details Section -->
                                <div class="service-details">
                                    <h5>Service Information</h5>
                                    <div class="service-info">
                                        <span class="service-info-label">Service:</span>
                                        <span class="service-info-value" id="serviceType"></span>
                                        
                                        <span class="service-info-label">Worker:</span>
                                        <span class="service-info-value" id="workerName"></span>
                                        
                                        <span class="service-info-label">Location:</span>
                                        <span class="service-info-value" id="serviceLocation"></span>
                                        
                                        <span class="service-info-label">Price:</span>
                                        <span class="service-info-value" id="servicePrice"></span>
                                    </div>
                                    <div class="booking-date" id="bookingDate"></div>
                                </div>

                                <!-- Tracking Steps -->
                                <div class="tracking-steps">
                                    <div class="step" id="step1">
                                        <div class="step-icon">1</div>
                                        <div class="step-label">Booked</div>
                                    </div>
                                    <div class="step" id="step2">
                                        <div class="step-icon">2</div>
                                        <div class="step-label">Accepted</div>
                                    </div>
                                    <div class="step" id="step3">
                                        <div class="step-icon">3</div>
                                        <div class="step-label">Out for Work</div>
                                    </div>
                                    <div class="step" id="step4">
                                        <div class="step-icon">4</div>
                                        <div class="step-label">Work Done</div>
                                    </div>
                                    <div class="step" id="step5">
                                        <div class="step-icon">5</div>
                                        <div class="step-label">Paid</div>
                                    </div>
                                    <div class="tracking-line">
                                        <div class="tracking-line-progress" id="trackingLineProgress"></div>
                                    </div>
                                </div>
                            </div>
                        </li>
                </div>
            </div>
            <!-- Sidebar End -->

            <!-- Main Content Start -->

    <!-- Carousel Start -->
    <div class="container-fluid p-0 mb-5 wow fadeIn" data-wow-delay="0.1s">
        <div id="header-carousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="w-100" src="{% static 'img/uh2.jpeg' %}" alt="Image" style="height: 600px; object-fit: cover;">

                    <div class="carousel-caption">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-12 col-lg-10">
                                    <div class="announcement-bar">
                                        <marquee behavior="auto" scrollamount="3" direction="left" >
                                            {% for announcement in active_announcements %}
                                                <span class="announcement" >{{ announcement.title }}: {{ announcement.content }}</span>
                                            {% endfor %}
                                        </marquee>
                                    </div>
                                    <h5 class="text-light text-uppercase mb-3 animated slideInDown">Welcome  {{ username }}</h5>
                                    <h1 class="display-2 text-light mb-3 animated slideInDown">Unique solutions for personalized service experiences</h1>
                                    <!-- Add this just after the navbar -->

                                    <ol class="breadcrumb mb-4 pb-2">
                                        <li class="breadcrumb-item fs-5 text-light">Commercial</li>
                                        <li class="breadcrumb-item fs-5 text-light">Residential</li>
                                        <li class="breadcrumb-item fs-5 text-light">Industrial</li>
                                    </ol>
                                    <a href="" class="btn btn-primary py-3 px-5">More Details</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <img class="w-100" src="{% static 'img/uh.jpeg' %}" alt="Image" style="height: 600px; object-fit: cover;">
                    <div class="carousel-caption">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-12 col-lg-10">
                                    <h5 class="text-light text-uppercase mb-3 animated slideInDown">Welcome to HomeStar</h5>
                                    <h1 class="display-2 text-light mb-3 animated slideInDown">Unique solutions for personalized service experiences</h1>
                                    <ol class="breadcrumb mb-4 pb-2">
                                        <li class="breadcrumb-item fs-5 text-light">Commercial</li>
                                        <li class="breadcrumb-item fs-5 text-light">Residential</li>
                                        <li class="breadcrumb-item fs-5 text-light">Industrial</li>
                                    </ol>
                                    <a href="" class="btn btn-primary py-3 px-5">More Details</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#header-carousel"
                data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#header-carousel"
                data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>
    <!-- Carousel End -->

    <!-- About Start -->
   

<!-- Service Start -->
<div class="container-xxl py-5">
    <div class="container">
        <div class="row g-5 align-items-end mb-5">
            <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.1s">
                <div class="border-start border-5 border-primary ps-4">
                    <h6 class="text-body text-uppercase mb-2">Our Services</h6>
                    <h1 class="display-6 mb-0">Expert Renovation Solutions for All Your Home Improvement Needs.</h1>
                </div>
            </div>
            <div class="container">
                <div class="row g-5 align-items-end mb-5">
                    <div class="row g-4 justify-content-center">
                        {% for service in Service_Details %}
                        <div class="col-lg-3 col-md-4 wow fadeInUp" data-wow-delay="0.1s" style="margin-left: 0px; margin-right: 1px;">
                            <div class="service-item bg-light overflow-hidden h-100 d-flex flex-column" style="height: 400px;">
                                <img class="img-fluid" src="{{ service.service_image.url }}" alt="{{ service.service_name }}" style="height: 350px; object-fit: cover;">
                                <div class="service-text position-relative text-center h-100 p-4 flex-grow-1">
                                    <h5 class="mb-3">{{ service.service_name }}</h5>
                                    <p>{{ service.description }}</p>
                                    <p>Price: {{ service.price }}</p>
                                    <td><a href="tel:{{ provider.user.phone }}" class="call-btn"><i class="fas fa-phone"></i> {{ provider.user.phone }}</a></td>
                <a class="btn btn-primary" href="{% url 'booking' %}?service={{ service.service_name|urlencode }}" role="button">Book Now <i class="fa fa-arrow-right ms-3"></i></a>                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Service End -->


<!-- Appointment Start -->


<!-- Team Start -->
<!--div class="container-xxl py-5">
    <div class="container">
        <div class="row g-5 align-items-end mb-5">
            <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.1s">
                <div class="border-start border-5 border-primary ps-4">
                    <h6 class="text-body text-uppercase mb-2">Our Team</h6>
                    <h1 class="display-6 mb-0">Our Expert Worker</h1>
                </div>
            </div>
            <div class="col-lg-6 wow fadeInUp" data-wow-delay="0.3s">
                <p class="mb-0">Tempor erat elitr rebum at clita. Diam dolor diam ipsum sit. Aliqu diam amet diam et eos. Clita erat ipsum et lorem et sit, sed stet lorem sit clita duo justo magna dolore erat amet</p>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                <div class="team-item position-relative">
                    <img class="img-fluid" src="{% static 'img/team-1.jpg' %}" alt="">
                    <div class="team-text bg-white p-4">
                        <h5>Full Name</h5>
                        <span>Engineer</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
                <div class="team-item position-relative">
                    <img class="img-fluid" src="{% static 'img/team-2.jpg' %}" alt="">
                    <div class="team-text bg-white p-4">
                        <h5>Full Name</h5>
                        <span>Engineer</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 wow fadeInUp" data-wow-delay="0.5s">
                <div class="team-item position-relative">
                    <img class="img-fluid" src="{% static 'img/team-3.jpg' %}" alt="">
                    <div class="team-text bg-white p-4">
                        <h5>Full Name</h5>
                        <span>Engineer</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div-->
<!-- Team End -->


<!-- Testimonial Start -->
<!--div class="container-xxl py-5">
    <div class="container">
        <div class="row g-5">
            <div class="col-lg-5 wow fadeInUp" data-wow-delay="0.1s">
                <div class="border-start border-5 border-primary ps-4 mb-5">
                    <h6 class="text-body text-uppercase mb-2">Testimonial</h6>
                    <h1 class="display-6 mb-0">What Our Happy Clients Say!</h1>
                </div>
                <p class="mb-4">Diam dolor diam ipsum sit. Aliqu diam amet diam et eos. Clita erat ipsum et lorem et sit, sed stet lorem sit clita duo justo magna dolore erat amet</p>
                <div class="row g-4">
                    <div class="col-sm-6">
                        <div class="d-flex align-items-center mb-2">
                            <i class="fa fa-users fa-2x text-primary flex-shrink-0"></i>
                            <h1 class="ms-3 mb-0">123+</h1>
                        </div>
                        <h5 class="mb-0">Happy Clients</h5>
                    </div>
                    <div class="col-sm-6">
                        <div class="d-flex align-items-center mb-2">
                            <i class="fa fa-check fa-2x text-primary flex-shrink-0"></i>
                            <h1 class="ms-3 mb-0">123+</</h1>
                        </div>
                        <h5 class="mb-0">Projects Done</h5>
                    </div>
                </div>
            </div>
            <div class="col-lg-7 wow fadeInUp" data-wow-delay="0.5s">
                <div class="owl-carousel testimonial-carousel">
                    <div class="testimonial-item">
                        <img class="img-fluid mb-4" src="{% static 'img/testimonial-1.jpg' %}" alt="">
                        <p class="fs-5">Dolores sed duo clita tempor justo dolor et stet lorem kasd labore dolore lorem ipsum. At lorem lorem magna ut et, nonumy et labore et tempor diam tempor erat.</p>
                        <div class="bg-primary mb-3" style="width: 60px; height: 5px"></div>
                        <h5>Client Name</h5>
                        <span>Profession</span>
                    </div>
                    <div class="testimonial-item">
                        <img class="img-fluid mb-4" src="{% static 'img/testimonial-2.jpg' %}" alt="">
                        <p class="fs-5">Dolores sed duo clita tempor justo dolor et stet lorem kasd labore dolore lorem ipsum. At lorem lorem magna ut et, nonumy et labore et tempor diam tempor erat.</p>
                        <div class="bg-primary mb-3" style="width: 60px; height: 5px"></div>
                        <h5>Client Name</h5>
                        <span>Profession</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div-->
<!-- Testimonial End -->


<!-- Footer Start -->
<div class="container-fluid bg-dark footer mt-5 pt-5 wow fadeIn" data-wow-delay="0.1s">
    <div class="container py-5">
        <div class="row g-5">
            <div class="col-lg-3 col-md-6">
                <h1 class="text-white mb-4"><i class="fa fa-building text-primary me-3"></i>HOME STAR</h1>
                <p>Diam dolor diam ipsum sit. Aliqu diam amet diam et eos. Clita erat ipsum et lorem et sit, sed stet lorem sit clita duo justo magna dolore erat amet</p>
                <div class="d-flex pt-2">
                    <a class="btn btn-square me-1" href="#"><i class="fab fa-twitter"></i></a>
                    <a class="btn btn-square me-1" href="#"><i class="fab fa-facebook-f"></i></a>
                    <a class="btn btn-square me-1" href="#"><i class="fab fa-youtube"></i></a>
                    <a class="btn btn-square me-0" href="#"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <h5 class="text-light mb-4">Address</h5>
                <p><i class="fa fa-map-marker-alt me-3"></i>123 Street, New York, USA</p>
                <p><i class="fa fa-phone-alt me-3"></i>+012 345 67890</p>
                <p><i class="fa fa-envelope me-3"></i>info@example.com</p>
            </div>
            <div class="col-lg-3 col-md-6">
                <h5 class="text-light mb-4">Quick Links</h5>
                <a class="btn btn-link" href="{% url 'about'%}">About Us</a>
                <a class="btn btn-link" href="{% url 'contact'%}">Contact Us</a>
                <a class="btn btn-link" href="">Our Services</a>
                <a class="btn btn-link" href="">Terms & Condition</a>
                <a class="btn btn-link" href="">Support</a>
            </div>
            <div class="col-lg-3 col-md-6">
                <h5 class="text-light mb-4">Newsletter</h5>
                <p>Dolor amet sit justo amet elitr clita ipsum elitr est.</p>
                <div class="position-relative mx-auto" style="max-width: 400px">
                    <input class="form-control border-0 w-100 py-3 ps-4 pe-5" type="text" placeholder="Your email">
                    <button type="button" class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2">SignUp</button>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 text-center">
                <a href="https://wa.me/9539046116" target="_blank" class="btn btn-success mt-3">
                    <i class="fab fa-whatsapp"></i> Contact Us on WhatsApp
                </a>
            </div>
        </div>
<div class="col-md-6 d-flex">
  <div class="bg-white" style="width: 100%;">
    <iframe 
      src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3932.797586320337!2d76.821182!3d9.5715618!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3b0635667d0ebd0f%3A0xb89c16c137d1e6ec!2sELITE%20CRAFT%20BUILDERS%20%26%20INNOVATORS!5e0!3m2!1sen!2sin!4v1696772000000!5m2!1sen!2sin" 
       width="200%" height="500" style="border:0;" allowfullscreen="" loading="lazy">
      </iframe>
    </div>
  </div>

    </div>
    <div class="container">
        <div class="copyright">
            <div class="row">
                <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    &copy; <a class="border-bottom" href="#">Your Site Name</a>, All Right Reserved.
                    <!-- This template is free as long as you keep the footer -->
                    Designed By <a class="border-bottom" href="https://htmlcodex.com">HTML Codex</a>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <div class="footer-menu">
                        <a href="">Home</a>
                        <a href="">Cookies</a>
                        <a href="">Help</a>
                        <a href="">FQAs</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Footer End -->
<!-- Back to Top -->
<a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
<div class="container">
    <!-- WhatsApp Icon -->
    <div id="whatsapp-icon" class="whatsapp-icon" style="position: fixed; bottom: 160px; right: 20px; z-index: 1000;">
        <a href="https://wa.me/9539046116" target="_blank" class="whatsapp-button">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>
    <!-- Instagram Icon --> 
    <div id="instagram-icon" class="instagram-icon" style="position: fixed; bottom: 90px; right: 20px; z-index: 1000;">
       <a href="https://www.instagram.com/home_star_homeservices/" target="_blank" class="instagram-button">
           <i class="fab fa-instagram"></i>
       </a>
    </div>
 


    <!-- Chatbot Icon -->
    <div id="chatbot-icon" class="chatbot-icon">
        <i class="fas fa-comments"></i>
    </div>

    <!-- Chatbox Modal -->
    <div id="chatbox" class="chatbox-modal">
        <div class="chatbox-header">
            <h2>Chat with Us</h2>
            <span id="close-chatbox" class="close">&times;</span>
        </div>
        <div class="chatbox-body" id="chatbox-body">
            <!-- Messages will be appended here -->
        </div>
        <div class="chatbox-footer">
            <div class="input-group">
                <input type="text" id="user-input" class="form-control" placeholder="Type your message..." />
                <div class="input-icons">
                    <button id="upload-button" class="btn btn-info" onclick="document.getElementById('image-upload').click();">
                        <i class="fas fa-paperclip"></i>
                    </button>
                    <input type="file" id="image-upload" class="form-control-file" accept="image/*" style="display: none;" />
                    <button id="speech-button" class="btn btn-secondary"><i class="fas fa-microphone"></i></button>
                    <button id="send-button" class="btn btn-primary">Send</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Chatbot Script -->
<script>
document.addEventListener('DOMContentLoaded', function () {
    const chatbotIcon = document.getElementById('chatbot-icon');
    const chatbox = document.getElementById('chatbox');
    const closeChatbox = document.getElementById('close-chatbox');
    const sendButton = document.getElementById('send-button');
    const userInput = document.getElementById('user-input');
    const chatboxBody = document.getElementById('chatbox-body');
    const speechButton = document.getElementById('speech-button');
    const imageUpload = document.getElementById('image-upload');

    // Open chatbox
    chatbotIcon.addEventListener('click', () => {
        chatbox.style.display = 'block';
        userInput.focus();
    });

    // Close chatbox
    closeChatbox.addEventListener('click', () => {
        chatbox.style.display = 'none';
    });

    // Send message
    sendButton.addEventListener('click', sendMessage);

    // Speech-to-Text functionality
    speechButton.addEventListener('click', () => {
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        recognition.lang = 'en-US';
        recognition.start();

        recognition.onresult = (event) => {
            const transcript = event.results[0][0].transcript;
            userInput.value = transcript;
            sendMessage();
        };

        recognition.onerror = (event) => {
            console.error('Speech recognition error:', event.error);
        };
    });

    function sendMessage() {
        const message = userInput.value.trim();
        if (message) {
            appendMessage('You', message);
            userInput.value = '';
            showLoadingIndicator();

            // Send message to the backend
            fetch('/chatbot/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                    'X-CSRFToken': getCookie('csrftoken'),
                },
                body: new URLSearchParams({
                    'message': message
                })
            })
            .then(response => response.json())
            .then(data => {
                hideLoadingIndicator();
                if (data.response) {
                    appendMessage('Chatbot', data.response);
                } else {
                    appendMessage('Chatbot', 'Sorry, I did not understand that.');
                }
            })
            .catch(error => {
                hideLoadingIndicator();
                console.error('Error:', error);
                appendMessage('Chatbot', 'An error occurred. Please try again.');
            });
        }
    }

    // Function to show loading indicator
    function showLoadingIndicator() {
        appendMessage('Chatbot', 'Generating response...');
    }

    // Function to hide loading indicator
    function hideLoadingIndicator() {
        const messages = chatboxBody.querySelectorAll('div');
        if (messages.length > 0 && messages[messages.length - 1].textContent === 'Generating response...') {
            messages[messages.length - 1].remove();
        }
    }

    // Function to get CSRF token
    function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }

    function appendMessage(sender, message) {
        const messageElement = document.createElement('div');
        messageElement.textContent = message;

        // Apply different classes based on the sender
        if (sender === 'You') {
            messageElement.classList.add('user-message'); // User message style
        } else {
            messageElement.classList.add('chatbot-message'); // Chatbot message style
        }

        chatboxBody.appendChild(messageElement);
        chatboxBody.scrollTop = chatboxBody.scrollHeight; // Scroll to the bottom
    }
});
</script>




<!-- JavaScript Libraries -->
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'lib/wow/wow.min.js' %}"></script>
<script src="{% static 'lib/easing/easing.min.js' %}"></script>
<script src="{% static 'lib/waypoints/waypoints.min.js' %}"></script>
<script src="{% static 'lib/owlcarousel/owl.carousel.min.js' %}"></script>
<script type="text/javascript">
    window.history.forward();
    function noBack() {
        window.history.forward();
    }
</script>

<!-- Template Javascript -->
<script src="{% static 'js/main.js' %}"></script>

{% block content %}
<!-- Your existing carousel and other content -->
{% endblock %}


<div class="tracking-modal" id="trackingModal">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
        <h4 style="margin: 0;">Booking Status</h4>
        <button style="border: none; background: none; cursor: pointer;" id="closeTracking">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="tracking-steps">
        <div class="tracking-line">
            <div class="tracking-line-progress" id="progressLine"></div>
        </div>
        <div class="step" data-step="booked">
            <div class="step-icon">
                <i class="fas fa-bookmark"></i>
            </div>
            <div class="step-label">Booked</div>
        </div>
        <div class="step" data-step="accepted">
            <div class="step-icon">
                <i class="fas fa-check"></i>
            </div>
            <div class="step-label">Accepted</div>
        </div>
        <div class="step" data-step="ongoing">
            <div class="step-icon">
                <i class="fas fa-tools"></i>
            </div>
            <div class="step-label">Out for Work</div>
        </div>
        <div class="step" data-step="completed">
            <div class="step-icon">
                <i class="fas fa-flag-checkered"></i>
            </div>
            <div class="step-label">Work Done</div>
        </div>
        <div class="step" data-step="paid">
            <div class="step-icon">
                <i class="fas fa-money-bill-wave"></i>
            </div>
            <div class="step-label">Paid</div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const trackingButton = document.getElementById('trackingButton');
    const trackingModal = document.getElementById('trackingModal');
    const closeTracking = document.getElementById('closeTracking');
    const progressLine = document.getElementById('progressLine');

    // Show/hide tracking modal
    trackingButton.addEventListener('click', () => {
        trackingModal.style.display = 'block';
        // Fetch and update status when opened
        updateBookingStatus();
    });

    closeTracking.addEventListener('click', () => {
        trackingModal.style.display = 'none';
    });

    function updateBookingStatus() {
        // Replace this with actual API call to get booking status
        fetch('/get-booking-status/') // Create this endpoint in your Django views
            .then(response => response.json())
            .then(data => {
                updateSteps(data.currentStep);
            })
            .catch(error => console.error('Error:', error));
    }

    function updateSteps(currentStep) {
        const steps = ['booked', 'accepted', 'ongoing', 'completed', 'paid'];
        const currentIndex = steps.indexOf(currentStep);
        
        // Update progress line
        const progressWidth = (currentIndex / (steps.length - 1)) * 100;
        progressLine.style.width = `${progressWidth}%`;

        // Update step styles
        document.querySelectorAll('.step').forEach((step, index) => {
            if (index <= currentIndex) {
                step.classList.add('active');
            } else {
                step.classList.remove('active');
            }
        });
    }
});
</script>



